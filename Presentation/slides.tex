\documentclass[xcolor={dvipsnames}]{beamer}

\usepackage[T1]{fontenc}

\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{url}
\usepackage{listings}
\usepackage{mathtools}
\usepackage{calc}
\usepackage{lmodern}
\usepackage{changepage}
\usepackage{hyperref}
\usepackage{graphicx}

\usepackage{newunicodechar}
\usepackage{fourier}
\usepackage{comment}
\usepackage{mathrsfs}

\newunicodechar{λ}{\ensuremath{\mathnormal\lambda}}
\newunicodechar{∙}{\ensuremath{\mathnormal\cdot}}
\newunicodechar{⊔}{\ensuremath{\mathnormal\sqcup}}
\newunicodechar{ℓ}{\ensuremath{\mathnormal\ell}}
\newunicodechar{≈}{\ensuremath{\mathnormal\approx}}
\newunicodechar{←}{\ensuremath{\mathnormal\from}}
\newunicodechar{→}{\ensuremath{\mathnormal\to}}
\newunicodechar{ε}{\ensuremath{\mathnormal\epsilon}}
\newunicodechar{∀}{\ensuremath{\mathnormal\forall}}
\newunicodechar{⟦}{\ensuremath{\mathnormal\llbracket}}
\newunicodechar{⟧}{\ensuremath{\mathnormal\rrbracket}}
\newunicodechar{∘}{\ensuremath{\mathnormal\circ}}
\newunicodechar{∎}{\ensuremath{\mathnormal\blacksquare}}
\newunicodechar{⋆}{\ensuremath{\mathnormal\star}}
\newunicodechar{₂}{\ensuremath{\textsubscript{2}}}
\newunicodechar{₁}{\ensuremath{\textsubscript{1}}}
\newunicodechar{ʳ}{\ensuremath{\textsuperscript{r}}}
\newunicodechar{ˡ}{\ensuremath{\textsuperscript{l}}}
\newunicodechar{⇒}{\ensuremath{\mathnormal\Rightarrow}}
\newunicodechar{⟺}{\ensuremath{\mathnormal\Longleftrightarrow}}
\newunicodechar{≉}{\ensuremath{\mathnormal\not\approx}}	
\newunicodechar{⁻}{\ensuremath{\textsuperscript{-}}}	
\newunicodechar{₃}{\ensuremath{\textsubscript{3}}}
\newunicodechar{‿}{\ensuremath{\mathnormal\smile}}
\newunicodechar{∼}{\ensuremath{\mathnormal\sim}}
\newunicodechar{×}{\ensuremath{\mathnormal\times}}
\newunicodechar{¹}{\ensuremath{\textsuperscript{1}}}
\newunicodechar{ₙ}{\ensuremath{\textsubscript{n}}}
\newunicodechar{≡}{\ensuremath{\mathnormal\equiv}}
\newunicodechar{⟨}{\ensuremath{\mathnormal\langle}}
\newunicodechar{⟩}{\ensuremath{\mathnormal\rangle}}
\newunicodechar{◦}{\ensuremath{\mathnormal\circ}}
\newunicodechar{₀}{\ensuremath{\textsubscript{0}}}
\newunicodechar{∃}{\ensuremath{\mathnormal\exists}}

\usetheme{Madrid}

\setbeamertemplate{caption}{\raggedright\insertcaption\par}

\title[Algebra in Proof Systems]{Types of Algebraic Structures in Proof Assistant Systems}
\author[Akshobhya K M]{Akshobhya Katte Madhusudana\\\small{}Under the supervision of Dr. Jacques Carette}

\institute[McMaster University]{McMaster University}
\date{December $8^{\text{th}}$, 2023}

\AtBeginSection[]
{
  \begin{frame}
    \frametitle{Table of Contents}
    \tableofcontents[currentsection]
  \end{frame}
}

% For code highlighting
\usepackage[newfloat,outputdir=build]{minted}
\usemintedstyle{colorful}

% For loading images
\usepackage{graphicx}
\graphicspath{ {./assets/img/} }


% For fancy pictures
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,cd}
\usetikzlibrary{babel} % Make sure quiver/tikz uses babel
\usetikzlibrary {arrows.meta,graphs,graphdrawing}
\usegdlibrary {layered}

\usepackage{todonotes}

\usepackage{svg}

\newcommand{\inlineHs}[1]{\mintinline{haskell}|#1|}
% Command based on: https://tex.stackexchange.com/questions/266811/define-a-new-command-with-parameters-inside-newcommand
\newcommand{\codeName}[1]{\expandafter\newcommand\csname #1\endcsname{\inlineHs{#1}}}

\codeName{CodeExpr}
\codeName{Expr}
\codeName{ModelExpr}

\begin{document}

%------------------------------------------------------------------------------
% TITLE
%------------------------------------------------------------------------------
\frame{\titlepage}

%------------------------------------------------------------------------------
% TABLE OF CONTENTS
%------------------------------------------------------------------------------

\begin{frame}
\frametitle{Table of Contents}
\tableofcontents
\end{frame}
 
%------------------------------------------------------------------------------
% Definition
%------------------------------------------------------------------------------
\begin{comment}
\section{Definition}

\begin{frame}
  \frametitle{Definition}

  \begin{itemize}

    \item A \textit{signature} is a pair $\Sigma = (S,F)$ such that $S$ is a
    carrier set and $F$ is a collection of operation names.

    \item A \emph{$\Sigma$-algebra} $A$ is defined as pair $A = (A,F_A)$, a
    mathematical structure consisting of a carrier set $(A)$ and a family of
    functions $(F_A)$ defined for each function symbol in the signature.

    \item The type (or language) of the algebra is a set of function symbols.
    Each member of this set is assigned a positive number which is the arity of
    the member.
  \end{itemize}
\end{frame}
\end{comment}
%------------------------------------------------------------------------------
% Universal Algebra
%------------------------------------------------------------------------------
\section{Research Outline}

\begin{frame}

  \frametitle{Research Outline}

  \begin{enumerate}
    \item What is the current coverage of algebraic structures in proof assistants?
    \item How can algebraic structures be characterized in Agda? 
    \item Define constructs of algebraic structures with proofs of their properties in Agda
    \item Abstract out the problems faced during the characterization of
    algebraic structures and analyze each problem to provide plausible
    solutions.    
  \end{enumerate}

\end{frame}

%------------------------------------------------------------------------------
% Algebraic Structures In Proof Systems
%------------------------------------------------------------------------------
\section{Algebraic Structures in Proof Systems}

\begin{frame}
  \frametitle{Algebraic Structures In Proof Systems}
  \begin{enumerate}
    \item A survey of the coverage of algebraic structures in a proof system will
    help to identify the gaps in the system.
    \item We Surveyed the standard libraries of four proof assistant systems: Agda, Lean, Idris, and Coq.
    \item We created a web crawler to capture definitions of algebraic structures.
    \item We created a clickable table that takes one to the definition in the source library.
  \end{enumerate}

\end{frame}

%------------------------------------------------------------------------------
% Theory Of Quasigroup And Loop
%------------------------------------------------------------------------------
\section{Theory of Quasigroup and Loop}

\begin{frame}[fragile]
  \frametitle{Theory Of Quasigroup And Loop}  
  \begin{columns}
    \begin{column}{0.4\textwidth}
      A Quasigroup is a set equipped with binary operations that satisfy the
      following equation.
            \[y=x∙(x\backslash y)\]
            \[y=x\backslash(x∙y)\]
            \[y=(y/x)∙x\]
            \[y=(y∙x)/x\]
      A Loop is a quasigroup with identity:
      \[x∙e=e∙x=x\]
    \end{column}
    \hfill
    \begin{column}{0.575\textwidth}
\begin{minted}[fontsize=\scriptsize,breaklines]{Agda}
    record IsQuasigroup (∙ \\ // : Op₂ A) : Set (a ⊔ ℓ) where
      field
        isMagma       : IsMagma ∙
        \\-cong       : Congruent₂ \\
        //-cong       : Congruent₂ //
        leftDivides   : LeftDivides ∙ \\
        rightDivides  : RightDivides ∙ //
      open IsMagma isMagma public
\end{minted}
    \end{column}
  \end{columns}
\end{frame}

%------------------------------------------------------------------------------
% Types Of And Loop
%------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Types of Quasigroup and Loop}

  A loop is called a \textit{right bol loop} if it satisfies the identity:

   \[((z\ ∙\ x)\ ∙\ y)\ ∙\ x\ =\ z\ ∙\ ((\ x\ ∙\ y)\ ∙\ x)\]

  A loop is called a \textit{left bol loop} if it satisfies the identity:

   \[x\ ∙\ (y\ ∙\ (x\ ∙\ z))\ =\ (x\ ∙\ (y\ ∙\ x))\ ∙\ z\]

  A loop is called \textit{middle bol loop} if it satisfies the identity:

  \[(z\ ∙\ x)\ ∙\ (y\ ∙\ z)\ =\ z\ ∙\ ((x\ ∙\ y)\ ∙\ z)\]

  A left-right bol loop is called a \textit{moufang loop} if it satisfies the identity:

  \[(z\ ∙\ x)\ ∙\ (y\ ∙\ z)\ =\ z\ ∙\ ((x\ ∙\ y)\ ∙\ z)\]

\end{frame}

%------------------------------------------------------------------------------
% Quasigroup Homomorphism
%------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Quasigroup Homomorphism}
    A Quasigroup homomorphism \( f:(Q_1,∙,\backslash \backslash,//) \rightarrow
    (Q_2,\circ,\backslash,/) \):
    \begin{itemize}
        \item $f$ preserves the binary operation: $f(x∙y) = f(x) \circ f(y)$
        \item $f$ preserves the left division operation : $f(x\backslash \backslash y) = f(x)\backslash f(y)$
        \item $f$ preserves the right division operation: $f(x//y) = f(x)/f(y)$
    \end{itemize}
\\
\begin{minted}[fontsize=\scriptsize,breaklines]{Agda}
    record IsQuasigroupHomomorphism (⟦_⟧ : A → B) : Set (a ⊔ ℓ₁ ⊔ ℓ₂) where
     field
       isRelHomomorphism : IsRelHomomorphism _≈₁_ _≈₂_ ⟦_⟧
       ∙-homo            : Homomorphic₂ ⟦_⟧ _∙₁_ _∙₂_
       \\-homo           : Homomorphic₂ ⟦_⟧ _\\₁_ _\\₂_
       //-homo           : Homomorphic₂ ⟦_⟧ _//₁_ _//₂_
  
     open IsRelHomomorphism isRelHomomorphism public
      renaming (cong to ⟦⟧-cong)
\end{minted}
\end{frame}
  
%------------------------------------------------------------------------------
% Prove Properties Of Quasigroup
%------------------------------------------------------------------------------
  \begin{frame}[fragile]
    \frametitle{Prove Properties Of Quasigroup}  

      Properties of quasigroup are used in cryptographic
      protocols. Properties such as left and right cancellation can be
      used to ensure the confidentiality of data during encryption and
      decryption.
      \\ \\
\begin{center}
  \centering
  \begin{minted}[fontsize=\scriptsize,breaklines]{Agda}
    cancelˡ : LeftCancellative _∙_
    cancelˡ x y z eq = begin
      y            ≈⟨ sym( leftDividesʳ x y) ⟩
      x \\ (x ∙ y) ≈⟨ \\-congˡ eq ⟩
      x \\ (x ∙ z) ≈⟨ leftDividesʳ x z ⟩
      z            ∎
  \end{minted}
\end{center}

  \end{frame}

%------------------------------------------------------------------------------
% Prove Properties of Types Of Loop
%------------------------------------------------------------------------------

  \begin{frame}[fragile]
    \frametitle{Prove Properties of Types Of Loop}  
    \begin{columns}
      \begin{column}{0.4\textwidth}
        Properties of a Middle Bol Loop
        \begin{enumerate}
        \item \(x∙((y∙x)\backslash x)=y\backslash x\) 
        \item \(x∙((x∙z)\backslash x)=x/z\)
        \item \(x∙ (z\backslash x)=(x/z)∙x\)
        \item \((x/(y∙z))∙x=(x/z)∙(y\backslash x)\)
        \item \((x/(y∙x))∙x=y\backslash x\)
        \item \((x/(x∙z))∙x= x/ z\)
        \end{enumerate}
      \end{column}
      \hfill
      \begin{column}{0.575\textwidth}
        Properties of a Moufang Loop:
        \begin{enumerate}
        \item Moufang loop is alternative.
        \item Moufang loop is flexible.
        \item $z∙(x∙(z∙y))=((z∙x)∙z)∙y$
        \item $x∙(z∙(y∙z))=((x∙z)∙y)∙z$ 
        \item $z∙((x∙y)∙z)=(z∙ (x∙y))∙z$ 
        \end{enumerate}
      \end{column}
    \end{columns}
  \end{frame}

%------------------------------------------------------------------------------
% Theory Of Semigroup And Ring
%------------------------------------------------------------------------------
\section{Theory of Semigroup and Ring}

\begin{frame}[fragile]
    \frametitle{Semigroup} 
     A Semigroup is a magma with associativity: 
     \[x\ ∙\ (y\ ∙\ z)\ =\ (x\ ∙\ y)\ ∙\ z\]  
        \begin{minted}[fontsize=\scriptsize,breaklines]{Agda}
            record IsSemigroup (∙ : Op₂ A) : Set (a ⊔ ℓ) where
             field
               isMagma : IsMagma ∙
               assoc   : Associative ∙
            
             open IsMagma isMagma public
          \end{minted}
        A commutative semigroup is a semigroup with commutativity:
        \[x\ ∙\ y\ =\ y\ ∙\ x\]
  \end{frame}

%------------------------------------------------------------------------------
% Ring (with multiplicative identity)
%------------------------------------------------------------------------------

  \begin{frame}[fragile]
    \frametitle{Ring (with multiplication identity)}  

    Let $(R,+,*,⁻¹,0,1)$ be a Ring. Then:
        \begin{itemize}
            \item $(R,+,⁻¹,0)$ is an Abelian Group:
             \begin{itemize}
              \item Associativity: $ x + (y + z) = (x + y) + z$
              \item commutativity : $ (x + y) = (y + x)$
              \item Identity: $ (x + 0) = x = (0 + x)$
              \item Inverse: $ (x + x⁻¹) = 0 = (x⁻¹ + x)$
            \end{itemize}
            \item $(R,*,1)$ is a monoid
            \begin{itemize}
              \item Associativity: $ x * (y * z) = (x * y) * z$
              \item Identity: $ (x * 1) = x = (1 * x)$
            \end{itemize}
            \item Multiplication distributes over addition: \( (x * (y + z)) = (x * y) + (x
            * z)\) and \( (x + y) * z = (x * z) + (y * z) \)
            \item Annihilating zero: \(\forall x \in R, (x * 0) = 0 = (0 * x)\)
          \end{itemize}
  \end{frame}

%------------------------------------------------------------------------------
% Prove Properties Of Ring
%------------------------------------------------------------------------------

  \begin{frame}[fragile]
    \frametitle{Prove Properties Of Ring}
    Rings are used in studying number theory and algebraic geometry, where they
    are used to study algebraic curves, surfaces, and other geometric objects.\\

    Consider the following proof for a property of Ring:
        \[\text{If}\ x + x =0 \ \text{then}\ x=0\]

        \begin{minted}[fontsize=\scriptsize,breaklines,samepage]{Agda}
          x+x≈x⇒x≈0 : ∀ x → x + x ≈ x → x ≈ 0#
          x+x≈x⇒x≈0 x eq = begin
            x           ≈⟨ sym(+-identityʳ x) ⟩
            x + 0#      ≈⟨ +-congˡ (sym (-‿inverseʳ x)) ⟩
            x + (x - x) ≈⟨ sym (+-assoc x x (- x)) ⟩
            x + x - x   ≈⟨ +-congʳ(eq) ⟩
            x - x       ≈⟨ -‿inverseʳ x ⟩
            0#          ∎
          \end{minted}

  \end{frame} 

%------------------------------------------------------------------------------
% Theory Of Kleene Algebra
%------------------------------------------------------------------------------
\section{Theory of Kleene Algebra}

\begin{frame}
  \frametitle{Idempotent Semiring}
  Let $(S,+,*,0,1)$ be an idempotent semiring. Then:
  \begin{itemize}
    \item $(S,+,0)$ is a commutative monoid:
    \begin{itemize}
      \item Associativity: $ x + (y + z) = (x + y) + z$
      \item Identity: $ (x + 0) = x = (0 + x)$
      \item Commutativity: $ (x + y) = (y + x)$
    \end{itemize}
    \item $(S,*,1)$ is a monoid:
    \begin{itemize}
      \item Associativity: $ x * (y*z)  = (x*y)*z$
      \item Identity: $ (x * 1) = x = (1 * x)$
    \end{itemize}
    \item Idempotent: $ (x + x) = x$
    \item Multiplication distributes over addition: \( (x * (y + z)) = (x * y) + (x
    * z)\) and \( (x + y) * z = (x * z) + (y * z) \)
    \item Annihilating zero: \( (x * 0) = 0 = (0 * x)\)
    \end{itemize}

\end{frame}

%------------------------------------------------------------------------------
% Kleene Algebra
%------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Kleene Algebra}

    A Kleene algebra is an idempotent semiring with unary $^{*}$ operator that satisfies:
        \[ 1\ +\ (x\ ∙\ (x^{*}))\ \leq\ x^{*}\]
        \[ 1\ +\ (x^{*})\ ∙\ x\ \leq\ x^{*}\]
        \[\text{If} \ b\ +\ a\  ∙\ x\ \leq\ x\ \text{then},\ (a^{*})\ ∙\ b\ \leq\ x\]
        \[\text{If} \ b\ +\ x\ ∙\ a\ \leq\ x \  \text{then},\ b\ ∙\ (a^{*})\ \leq\ x\]

    \begin{minted}[fontsize=\scriptsize,breaklines]{Agda}
        record IsKleeneAlgebra (+ * : Op₂ A) (⋆ : Op₁ A) (0# 1# : A) : Set (a ⊔ ℓ) where
          field
            isIdempotentSemiring  : IsIdempotentSemiring + * 0# 1#
            starExpansive         : StarExpansive 1# + * ⋆
            starDestructive       : StarDestructive + * ⋆
    
          open IsIdempotentSemiring isIdempotentSemiring public
    \end{minted}
\end{frame}

%------------------------------------------------------------------------------
% Prove Properties Of Kleene Algebra
%------------------------------------------------------------------------------

\begin{frame}[fragile]
    \frametitle{Prove Properties Of Kleene Algebra}  
    Applications of Kleene Algebra are found in the development of
    pattern-matching algorithms in text processing and computational linguistics
    and regular expressions.
    \\
    \begin{minted}[fontsize=\scriptsize,breaklines,samepage]{Agda}
      1+x⋆≈x⋆ : ∀ x → 1# + x ⋆ ≈ x ⋆
      1+x⋆≈x⋆ x = begin
        1# + x ⋆                    ≈⟨ +-congˡ (sym(starExpansiveʳ x)) ⟩ 
        1# + (1# + x * x ⋆ + x ⋆)   ≈⟨ +-congˡ (+-assoc 1# (x * x ⋆) (x ⋆)) ⟩ 
        1# + (1# + (x * x ⋆ + x ⋆)) ≈⟨ sym(+-assoc 1# 1# (x * x ⋆ + x ⋆)) ⟩ 
        1# + 1# + (x * x ⋆ + x ⋆)   ≈⟨ +-congʳ (+-idem 1#) ⟩ 
        1# + (x * x ⋆ + x ⋆)        ≈⟨ sym(+-assoc 1# (x * x ⋆) (x ⋆) ) ⟩ 
        1# + x * x ⋆ + x ⋆          ≈⟨ starExpansiveʳ x ⟩ 
        x ⋆                         ∎
      \end{minted}
  \end{frame}

%------------------------------------------------------------------------------
% Problem In Programming Algebra
%------------------------------------------------------------------------------

\section{Problem in Programming Algebra}

\begin{frame}
  \frametitle{Ambiguity And Equivalent}
  \begin{enumerate}
    \item Ambiguity in naming e.g. Ring and Rng, Nearring (*-semigroup/*-monoid). 
    \item Equivalent but structurally different e.g. Quasigroups
  \end{enumerate}
  \begin{columns}
    \begin{column}{0.4\textwidth}
      A quasigroup with the Latin square property is a type (2) algebra.
      \[a ∙ x = b\]
      \[y ∙ a = b\]
    \end{column}
    \begin{column}{0.575\textwidth}
      A quasigroup with division operation is a type (2,2,2) algebra
      \[y=x∙(x\backslash y)\]
      \[y=x\backslash(x∙y)\]
      \[y=(y/x)∙x\]
      \[y=(y∙x)/x\]
    \end{column}
  \end{columns}
\end{frame}

%------------------------------------------------------------------------------
% Redundant Field
%------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Redundant Field}

  Duplicate field: e.g. semiring without identity (+-commutativeMonoid and *-Semigroup)

    \begin{minted}[fontsize=\scriptsize,breaklines]{Agda}
      record IsSemiringWithoutOne (+ * : Op₂ A) (0# : A) : Set (a ⊔ ℓ) where
      field
        +-isCommutativeMonoid : IsCommutativeMonoid + 0#
        *-cong                : Congruent₂ *
        *-assoc               : Associative *
        distrib               : * DistributesOver +
        zero                  : Zero 0# *
      
      open IsCommutativeMonoid +-isCommutativeMonoid public
    \end{minted}
\end{frame}

%------------------------------------------------------------------------------
% Equivalent And Identical
%------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Equivalent And Identical}
  \begin{enumerate} 
    \item Equivalent structures e.g. bounded semilattice and idempotent commutative monoid
    \item Identical structures e.g. nearring (+-group, *-monoid)
  \end{enumerate}

    \begin{minted}[fontsize=\scriptsize,breaklines,samepage]{Agda}
      record IsNearring (+ * : Op₂ A) (0# 1# : A) (_⁻¹ : Op₁ A) : Set (a ⊔ ℓ) where
      field
        isQuasiring : IsQuasiring + * 0# 1#
        +-inverse   : Inverse 0# _⁻¹ +
        ⁻¹-cong     : Congruent₁ _⁻¹
      
      open IsQuasiring isQuasiring public

      +-isGroup : IsGroup + 0# _⁻¹
      +-isGroup = record 
        { isMonoid = +-isMonoid 
        ; inverse = +-inverse 
        ; ⁻¹-cong = ⁻¹-cong 
        }
    \end{minted}
\end{frame}

%------------------------------------------------------------------------------
% CONCLUSION
%------------------------------------------------------------------------------

\section{Conclusion}

\begin{frame}
  \frametitle{Conclusion}

  To sum up, we:
  \begin{enumerate}
    \item Identified gaps in proof systems by conducting a survey.
    \item Defined structures with constructs and proved their properties in
    the Agda standard library.
    \item Abstracted out the problems faced during the characterization of
    algebraic structures and analyzed each problem to provide plausible
    solutions.
  \end{enumerate}
\end{frame}

\end{document}