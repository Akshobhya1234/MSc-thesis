\chapter{Universal Algebra: An Overview}
\label{start}
Universal algebra is a branch of mathematics that studies algebraic structures
in a general and abstract way. It provides a framework that allows
mathematicians to study algebraic structures such as groups, rings, fields,
lattices, and Boolean algebras, rather than studying them individually.
Universal algebra provides constructs like homomorphisms, subalgebras, direct
products, and more. These constructs help us understand the algebraic structures
and relationships between them. Algebraic structures, like monoids, loops,
groups, and rings have similar properties. Universal algebra studies these
structures by abstracting out the specific definitions and properties of
algebraic structures. Universal algebra will deal with these algebraic
structures as axiomatic theories in equational first-order logic
\cite{YSharoda}. 

In this chapter, we study the concepts from universal algebra that help
understand the characterization of algebraic structures with their constructs in
Agda in the later chapters. We assume the reader to have basic knowledge of set
theory (set, functions, and relations), knowledge of notation and concepts of
first-order logic. Section \ref{universe} defines terms like signature, theory,
and algebra. We introduce constructs such as morphisms and direct products in
Section \ref{construct}. The definitions in this chapter are adapted from
\cite{sankappanavar1981course}, \cite{wechler2012universal} and
\cite{sannella2012foundations}. 

\section{Universe, Type, and Signature}
Before we dive into defining algebra, we introduce some concepts that are
used later in the chapter.
\begin{itemize}
    \item  A \emph{term} in logic represents an object in the domain of
    discourse.
    \item  A \emph{function} $f: X \rightarrow Y$ is a mapping that associates each
    element of domain $(x \in X)$ with a unique element in co-domain $(y \in Y)$.
    \item  A \emph{function symbol} (or operation name) represents an operation
    that maps the elements of domain to a unique element in the co-domain.
    \item The number of operands in a function (or operation) is the \emph{arity} of
    the operation.
    \item A \emph{formula} is a finite sequence of symbols from the set of alphabets of a
    language. A well-formed formula is a formula that is valid according
    to the rules of the specific language being used.
    \item \emph{Term expressions} is a composition of terms with function symbols.
    \item For some formulas in propositional logic $(a,b)$, we say $a$ is a
    substitution instance of $b$ if and only if $a$ may be obtained from $b$ by
    substituting formulas for symbols in $b$.
\end{itemize}

\label{universe}
Logic allows us to describe properties of entities as formulas and provide
reasoning about them. Equational logic limits these formulas (such as axioms
or theorems) to be universally quantified equations of the form $t_1 = t_2$.
Here $t_1$ and $t_2$ are terms expressible in the language of theory. A
proposition is true if it is derivable from other true propositions using
inference rules. The three inference rules in equational logic described in
\cite{gries2013logical} are:
\begin{itemize}
    \item Leibniz equality: If two expressions are equal, then one expression
    can be substituted with the other without changing the truth statement.
    \[\frac{t_1 = t_2}{t[x \mapsto t_1] = t[x \mapsto t_2]}\]
    \item Transitivity: If $t_1 = t_2$ and $t_2 = t_3$ then $t_1 = t_3$.
    \[{\frac{t_1 = t_2\ t_2 = t_3}{t_1 = t_3}}\]
    \item Substitution: For predicate $p$, if $p\ t$ is true, it remains true on all
    conditions. \[\frac{p t}{p(t[xs \mapsto ts])}\]
\end{itemize}
where $t,t_1,t_2, \text{and} t_3$ are term expressions, $x$ is some symbol in the
language, $xs$ and $ts$ denotes list of symbols and list of expressions
respectively. 

\begin{itemize}
    \item A \textit{theory} in universal algebra is defined as a tuple $(S,F,E)$
    such that $S$ is a set of sort single sort, $F$ is a finite set of function
    symbols with their arities, and $E$ is a set of equations that are satisfied
    in $S$.

    \item A \emph{sub theory} of a theory $(S,F,E)$ is defined as
    $(S_\Delta,F_\Delta,E_\Delta)$ such that $S_\Delta \subseteq S$. The operations
    in sub theory $(op_\Delta \in |F_\Delta|)$ is defined as
    \[op_\Delta\ x_1...x_n = op\ x_1...x_n \in S_\Delta,\forall op \in
    |F|,\text{and}\ x_1...x_n \in S_\Delta \]  

    \item A \textit{signature} is a pair $\Sigma = (S,F)$ such that $S$ is a set
    of single sort and $F$ is the set of operation names.

    \item A \emph{$\Sigma$-algebra} $A$ is defined as pair $A = (A,F_A)$, a
    mathematical structure that has a domain $(A)$ and a family of functions
    $(F_A)$ defined for each function symbol in the signature on this domain.
    Algebra provides an interpretation for the carrier set $A$ and function
    symbols $F_A$ of a theory.

    \item The type (or language) of the algebra is a set of function symbols.
    Each member of this set is assigned a positive number which is the arity of
    the member.
\end{itemize}

\section{Constructions}
\label{construct}
Universal algebra provides definitions of constructions related to algebraic
structures. In this section, we will describe some of these constructions. 
\begin{itemize}
    \item The \textit{congruence} relation for an algebraic structure can be
    defined as an equivalence relation that is compatible with the structure
    such that the operations are well-defined on the equivalence class. For an
    algebra $(A,F)$, $\theta$ is a congruence on $A$ if $\theta$ satisfies the
    compatibility property. The compatibility property states that for each
    n-ary function symbol $f \ \in\ F$ and $x_i,\ y_i\ \in\ A$, If $x_i\ \theta\
    y_i$ holds for \(1\leq i \leq n\) then $f^{A}(x_1,...,x_n)\ \theta\
    f^{A}(y_1,....,y_n)$ holds \cite{sankappanavar1981course}.
    
    \item A \textit{homomorphism} is a structure-preserving map between two
    algebraic structures. It is an abstraction that generalizes the map between
    two structures or mathematical objects in general. If $A$ and $B$ are two
    algebras of same type $F$, then a homomorphism is defined as a function
    $\alpha: A \rightarrow B$ such that: \[ \alpha\ (f^{A}(a_1....a_n))\ =\
    f^{B}\ ((\alpha\ a_1)....(\alpha\ a_n))\] For each n-ary $f$ in $F$ and
    each sequence $a_1....a_n$ from $A$.

    Some variants of homomorphism are:
    \begin{enumerate}
        \item  Monomorphism: For two algebras $A$ and $B$, if \(\alpha : A
        \rightarrow B \) is a homomorphism from $A$ to $B$, and if \(\alpha\)
        satisfies one-to-one mapping (i.e., \(\alpha\) is injective) then the
        morphism \(\alpha\) is called a \textit{monomorphism}.

        \item Isomorphism: For algebra $A$ and $B$, a homomorphism $f:A → B$ is
        an isomorphism if it has an inverse, i.e. there is a homomorphism
        $f^{-1}:B → A$ such that $ff^{-1} =
        id_{|A|}$ and $f^{-1}f = id_{|B|}$ 

        \item Endomorphism: A homomorphism from an algebra $A$ to itself is
        called \textit{endomorphism}. In other words, if $f$ is a homomorphism on $A$
        such that $f: A \rightarrow A$ then, f is an endomorphism.

        \item Automorphism: An isomorphism from an algebra $A$ to itself is
        called \textit{automorphism}.

        \item Epimorphism: For two algebras $A$ and $B$, if \(\alpha : A
        \rightarrow B \) is a homomorphism from $A$ to $B$, and if \(\alpha\) is
        surjective then the morphism \(\alpha\) is called a
        \textit{epimorphism}.
    \end{enumerate}

    \item For algebras $A$, $B$, and $C$ the \textit{composition of morphisms}
    $f:\ A \ \rightarrow \ B$ and $g:\ B \rightarrow\ C$ is denoted by the
    function $g\ \circ \ f\ :\ A\ \rightarrow \ C$ and is defined as $(g\ \circ
    \ f)\ a = \ g\ (f\ a), \ \forall \ a\ \in\ A$. In
    \cite{sankappanavar1981course}, the author proves that the composite of two
    homomorphisms (monomorphisms/isomorphisms) is also a homomorphism
    (monomorphism/isomorphism).
    
    \item \textit{Direct product}: For set of algebra $\{ A_i | i \in I \}$ of
    same type indexed by some arbitrary set $I$, the cartesian product of the
    underlying sets is defined as $A = \displaystyle \prod_{i\in I} A_i$. Let
    $\omega_{A_i}$ be the corresponding n-ary operator on $A_i$. We can define
    $\omega_A : A^{n} \rightarrow A$ by \[ \omega_A(a_1,...a_n)(i) =
    \omega_{A_i} (a_1(i),...,a_n(i)) \forall i \in I\] where element $a \in A$
    is a function from indexing set $I$ to $\bigcup A_i$ such that $i \in I,
    a(i) \in A$. The algebra $A$ equipped with all $\omega_A$ on $A$ is the
    direct product of $A_i$. Each $A_i$ is called the direct factor of $A$.

\end{itemize}